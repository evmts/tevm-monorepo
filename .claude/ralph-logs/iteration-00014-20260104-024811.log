## Migration Iteration 14 Complete

**Target**: `formatEther` and `parseEther` functions in `@tevm/utils`

**Changes**:
1. Added native `formatEther` implementation for converting wei (bigint) to ether string
2. Added native `parseEther` implementation for converting ether string to wei (bigint)
3. Both handle negative values and edge cases (like `.5` format)
4. Removed `formatEther` and `parseEther` from viem/utils re-exports
5. Added 18 comprehensive test cases

**Results**:
- All 109 tests in viem.spec.ts pass (up from 91)
- All 159 tests in @tevm/utils pass (up from 141)
- 100% code coverage maintained

**Commit**: `ee40c90f5`

**Remaining viem imports**: 24 functions still need migration (down from 26)

**Next candidates for migration**:
- `formatGwei`/`parseGwei` (similar pattern to ether functions, 10^9)
- `getAddress` (checksum conversion - requires keccak256)
- `keccak256` (depends on external lib or implementation)

## Details

1. Modified `packages/utils/src/viem.js`:
   - Added `WEI_PER_ETHER` constant (1000000000000000000n)
   - Added `formatEther` function:
     - Handles bigint and number input
     - Supports negative values
     - Trims trailing zeros
     - Returns string (e.g., '1.5' for 1.5 ETH)
   - Added `parseEther` function:
     - Handles negative values with `-` prefix
     - Handles edge cases like `.5` (no integer part)
     - Truncates excess decimals (>18)
     - Returns bigint
   - Removed formatEther and parseEther from viem/utils re-export block

2. Modified `packages/utils/src/viem.spec.ts`:
   - Added 9 tests for formatEther:
     - Format 1 ETH correctly
     - Format decimal values (0.1, 0.01, 1.5)
     - Format zero
     - Format 1 wei
     - Format large values
     - Handle number input
     - Handle negative values
     - Trim trailing zeros
   - Added 10 tests for parseEther:
     - Parse 1 ETH correctly
     - Parse decimal values
     - Parse zero
     - Parse smallest wei value (0.000000000000000001)
     - Parse large values
     - Handle negative values
     - Truncate excess decimals
     - Throw on invalid (multiple decimal points)
     - Be inverse of formatEther
     - Handle edge case with no integer part (.5)

## Tests Passed
- packages/utils/src/viem.spec.ts (109 tests, up from 91)
- All 159 tests in @tevm/utils pass (159 + 1 skipped)
- 100% code coverage maintained

## Remaining viem imports in @tevm/utils/src/viem.js (24 remaining):
- decodeAbiParameters, decodeErrorResult, decodeEventLog, decodeFunctionData, decodeFunctionResult
- encodeAbiParameters, encodeDeployData, encodeErrorResult, encodeEventTopics
- encodeFunctionData, encodeFunctionResult, encodePacked
- formatGwei, formatLog
- fromBytes, fromHex, fromRlp
- getAddress
- keccak256
- parseGwei, serializeTransaction
- toBytes, toHex, toRlp
- mnemonicToAccount (from viem/accounts)

## Next Steps
Possible next targets (simple conversions):
- formatGwei/parseGwei (similar pattern to ether - 10^9 instead of 10^18)
- getAddress (checksum conversion - requires keccak256)
- keccak256 (would need to either use @noble/hashes or implement directly)

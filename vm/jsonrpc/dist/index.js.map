{"version":3,"sources":["../src/handlers/tevmCall.js","../src/handlers/tevmContractCall.js","../src/handlers/tevmPutContractCode.js","../src/handlers/tevmPutAccount.js","../src/handlers/tevmScript.js","../src/createJsonRpcClient.ts","../../../node_modules/.pnpm/superjson@2.2.1/node_modules/superjson/src/double-indexed-kv.ts","../../../node_modules/.pnpm/superjson@2.2.1/node_modules/superjson/src/registry.ts","../../../node_modules/.pnpm/superjson@2.2.1/node_modules/superjson/src/class-registry.ts","../../../node_modules/.pnpm/superjson@2.2.1/node_modules/superjson/src/util.ts","../../../node_modules/.pnpm/superjson@2.2.1/node_modules/superjson/src/custom-transformer-registry.ts","../../../node_modules/.pnpm/superjson@2.2.1/node_modules/superjson/src/is.ts","../../../node_modules/.pnpm/superjson@2.2.1/node_modules/superjson/src/pathstringifier.ts","../../../node_modules/.pnpm/superjson@2.2.1/node_modules/superjson/src/transformer.ts","../../../node_modules/.pnpm/superjson@2.2.1/node_modules/superjson/src/accessDeep.ts","../../../node_modules/.pnpm/superjson@2.2.1/node_modules/superjson/src/plainer.ts","../../../node_modules/.pnpm/is-what@4.1.16/node_modules/is-what/dist/index.js","../../../node_modules/.pnpm/copy-anything@3.0.5/node_modules/copy-anything/dist/index.js","../../../node_modules/.pnpm/superjson@2.2.1/node_modules/superjson/src/index.ts","../src/createHttpHandler.ts"],"names":["walker","transformed","result","getType","isArray","isPlainObject","isNull","isUndefined"],"mappings":"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","sourcesContent":["import { runCallHandler } from '@tevm/action-handlers'\n\n/**\n * @param {import('@ethereumjs/evm').EVM} evm\n * @param {import('../requests/index.js').TevmCallRequest} request\n * @returns {Promise<import('../responses/index.js').TevmCallResponse>}\n */\nexport const tevmCall = async (evm, request) => {\n\treturn {\n\t\tjsonrpc: '2.0',\n\t\tresult: await runCallHandler(evm, request.params),\n\t\tmethod: 'tevm_call',\n\t\t...(request.id === undefined ? {} : { id: request.id }),\n\t}\n}\n","import { runContractCallHandler } from \"@tevm/action-handlers\"\n\n/**\n * @type {import(\"./TevmContractCallGeneric.js\").TevmContractCallGeneric}\n */\nexport const tevmContractCall = async (evm, request) => {\n\treturn {\n\t\tjsonrpc: '2.0',\n\t\tresult: await runContractCallHandler(evm, request.params),\n\t\tmethod: 'tevm_contractCall',\n\t\t...(request.id === undefined ? {} : { id: request.id }),\n\t}\n}\n","import { putContractCodeHandler } from '@tevm/action-handlers'\n\n/**\n * @param {import('@ethereumjs/evm').EVM} evm\n * @param {import('../requests/index.js').TevmPutContractCodeRequest} request\n * @returns {Promise<import('../responses/index.js').TevmPutContractCodeResponse>}\n */\nexport const tevmPutContractCode = async (evm, request) => {\n\treturn {\n\t\tjsonrpc: '2.0',\n\t\tresult: await putContractCodeHandler(evm, request.params),\n\t\tmethod: 'tevm_putContractCode',\n\t\t...(request.id === undefined ? {} : { id: request.id }),\n\t}\n}\n","import { putAccountHandler } from '@tevm/action-handlers'\n\n/**\n * @param {import('@ethereumjs/evm').EVM} evm\n * @param {import('../requests/index.js').TevmPutAccountRequest} request\n * @returns {Promise<import('../responses/index.js').TevmPutAccountResponse>}\n */\nexport const tevmPutAccount = async (evm, request) => {\n\treturn {\n\t\tjsonrpc: '2.0',\n\t\tresult: await putAccountHandler(evm, request.params),\n\t\tmethod: 'tevm_putAccount',\n\t\t...(request.id === undefined ? {} : { id: request.id }),\n\t}\n}\n","import { runScriptHandler } from \"@tevm/action-handlers\"\n\n/**\n * @type {import(\"./TevmScriptGeneric.js\").TevmScriptGeneric}\n */\nexport const tevmScript = async (vm, request) => {\n\treturn {\n\t\tjsonrpc: '2.0',\n\t\tresult: await runScriptHandler(vm, request.params),\n\t\tmethod: 'tevm_script',\n\t\t...(request.id === undefined ? {} : { id: request.id }),\n\t}\n}\n","import type { EVM } from '@ethereumjs/evm'\nimport type { NonVerboseTevmJsonRpcRequest, TevmJsonRpcRequest } from './TevmJsonRpcRequest.js'\nimport {\n\ttevmCall,\n\ttevmContractCall,\n\ttevmPutAccount,\n\ttevmPutContractCode,\n\ttevmScript,\n} from './handlers/index.js'\nimport type { TevmCallResponse, TevmContractCallResponse, TevmPutAccountResponse, TevmPutContractCodeResponse, TevmScriptResponse } from './responses/index.js'\n\nexport class UnknownMethodError extends Error {\n\toverride name = 'UnknownMethodError'\n\t_tag = 'UnknownMethodError'\n\tconstructor(request: never) {\n\t\tsuper(`Unknown method in request: ${JSON.stringify(request)}`)\n\t}\n}\n\nexport type BackendReturnType<T extends NonVerboseTevmJsonRpcRequest> =\n\tT extends {\n\t\tmethod: 'tevm_call'\n\t}\n\t? TevmCallResponse\n\t: T extends { method: 'tevm_contractCall' }\n\t? TevmContractCallResponse<\n\t\tT['params']['abi'],\n\t\tT['params']['functionName'] & string\n\t>\n\t: T extends { method: 'tevm_putAccount' }\n\t? TevmPutAccountResponse\n\t: T extends { method: 'tevm_putContractCode' }\n\t? TevmPutContractCodeResponse\n\t: T extends { method: 'tevm_script' }\n\t? TevmScriptResponse<\n\t\tT['params']['abi'],\n\t\tT['params']['functionName'] & string\n\t>\n\t: never\n\n/**\n * Creates a vanillajs jsonrpc handler for tevm requests\n * Infers return type from request\n * @example\n * ```typescript\n * const handler = createJsonrpcClient(tevm)\n * const res = await handler({\n *  jsonrpc: '2.0',\n *  id: '1',\n *  method: 'tevm_call',\n *  params: {\n *    to: '0x000000000'\n *  }\n * })\n * ```\n */\nexport const createJsonRpcClient = (evm: EVM) => {\n\treturn <TRequest extends TevmJsonRpcRequest>(\n\t\trequest: TRequest,\n\t): Promise<BackendReturnType<TRequest>> => {\n\t\tswitch (request.method) {\n\t\t\tcase 'tevm_call':\n\t\t\t\treturn tevmCall(evm, request) as Promise<BackendReturnType<TRequest>>\n\t\t\tcase 'tevm_contractCall':\n\t\t\t\treturn tevmContractCall(evm, request) as Promise<\n\t\t\t\t\tBackendReturnType<TRequest>\n\t\t\t\t>\n\t\t\tcase 'tevm_putAccount':\n\t\t\t\treturn tevmPutAccount(evm, request) as Promise<\n\t\t\t\t\tBackendReturnType<TRequest>\n\t\t\t\t>\n\t\t\tcase 'tevm_putContractCode':\n\t\t\t\treturn tevmPutContractCode(evm, request) as Promise<\n\t\t\t\t\tBackendReturnType<TRequest>\n\t\t\t\t>\n\t\t\tcase 'tevm_script':\n\t\t\t\treturn tevmScript(evm, request) as Promise<BackendReturnType<TRequest>>\n\t\t\tdefault:\n\t\t\t\tthrow new UnknownMethodError(request)\n\t\t}\n\t}\n}\n\nexport type JsonRpcClient = ReturnType<typeof createJsonRpcClient>\n",null,null,null,null,null,null,null,null,null,null,"function getType(payload) {\n  return Object.prototype.toString.call(payload).slice(8, -1);\n}\n\nfunction isAnyObject(payload) {\n  return getType(payload) === \"Object\";\n}\n\nfunction isArray(payload) {\n  return getType(payload) === \"Array\";\n}\n\nfunction isBlob(payload) {\n  return getType(payload) === \"Blob\";\n}\n\nfunction isBoolean(payload) {\n  return getType(payload) === \"Boolean\";\n}\n\nfunction isDate(payload) {\n  return getType(payload) === \"Date\" && !isNaN(payload);\n}\n\nfunction isEmptyArray(payload) {\n  return isArray(payload) && payload.length === 0;\n}\n\nfunction isPlainObject(payload) {\n  if (getType(payload) !== \"Object\")\n    return false;\n  const prototype = Object.getPrototypeOf(payload);\n  return !!prototype && prototype.constructor === Object && prototype === Object.prototype;\n}\n\nfunction isEmptyObject(payload) {\n  return isPlainObject(payload) && Object.keys(payload).length === 0;\n}\n\nfunction isEmptyString(payload) {\n  return payload === \"\";\n}\n\nfunction isError(payload) {\n  return getType(payload) === \"Error\" || payload instanceof Error;\n}\n\nfunction isFile(payload) {\n  return getType(payload) === \"File\";\n}\n\nfunction isFullArray(payload) {\n  return isArray(payload) && payload.length > 0;\n}\n\nfunction isFullObject(payload) {\n  return isPlainObject(payload) && Object.keys(payload).length > 0;\n}\n\nfunction isString(payload) {\n  return getType(payload) === \"String\";\n}\n\nfunction isFullString(payload) {\n  return isString(payload) && payload !== \"\";\n}\n\nfunction isFunction(payload) {\n  return typeof payload === \"function\";\n}\n\nfunction isType(payload, type) {\n  if (!(type instanceof Function)) {\n    throw new TypeError(\"Type must be a function\");\n  }\n  if (!Object.prototype.hasOwnProperty.call(type, \"prototype\")) {\n    throw new TypeError(\"Type is not a class\");\n  }\n  const name = type.name;\n  return getType(payload) === name || Boolean(payload && payload.constructor === type);\n}\n\nfunction isInstanceOf(value, classOrClassName) {\n  if (typeof classOrClassName === \"function\") {\n    for (let p = value; p; p = Object.getPrototypeOf(p)) {\n      if (isType(p, classOrClassName)) {\n        return true;\n      }\n    }\n    return false;\n  } else {\n    for (let p = value; p; p = Object.getPrototypeOf(p)) {\n      if (getType(p) === classOrClassName) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nfunction isMap(payload) {\n  return getType(payload) === \"Map\";\n}\n\nfunction isNaNValue(payload) {\n  return getType(payload) === \"Number\" && isNaN(payload);\n}\n\nfunction isNumber(payload) {\n  return getType(payload) === \"Number\" && !isNaN(payload);\n}\n\nfunction isNegativeNumber(payload) {\n  return isNumber(payload) && payload < 0;\n}\n\nfunction isNull(payload) {\n  return getType(payload) === \"Null\";\n}\n\nfunction isOneOf(a, b, c, d, e) {\n  return (value) => a(value) || b(value) || !!c && c(value) || !!d && d(value) || !!e && e(value);\n}\n\nfunction isUndefined(payload) {\n  return getType(payload) === \"Undefined\";\n}\n\nconst isNullOrUndefined = isOneOf(isNull, isUndefined);\n\nfunction isObject(payload) {\n  return isPlainObject(payload);\n}\n\nfunction isObjectLike(payload) {\n  return isAnyObject(payload);\n}\n\nfunction isPositiveNumber(payload) {\n  return isNumber(payload) && payload > 0;\n}\n\nfunction isSymbol(payload) {\n  return getType(payload) === \"Symbol\";\n}\n\nfunction isPrimitive(payload) {\n  return isBoolean(payload) || isNull(payload) || isUndefined(payload) || isNumber(payload) || isString(payload) || isSymbol(payload);\n}\n\nfunction isPromise(payload) {\n  return getType(payload) === \"Promise\";\n}\n\nfunction isRegExp(payload) {\n  return getType(payload) === \"RegExp\";\n}\n\nfunction isSet(payload) {\n  return getType(payload) === \"Set\";\n}\n\nfunction isWeakMap(payload) {\n  return getType(payload) === \"WeakMap\";\n}\n\nfunction isWeakSet(payload) {\n  return getType(payload) === \"WeakSet\";\n}\n\nexport { getType, isAnyObject, isArray, isBlob, isBoolean, isDate, isEmptyArray, isEmptyObject, isEmptyString, isError, isFile, isFullArray, isFullObject, isFullString, isFunction, isInstanceOf, isMap, isNaNValue, isNegativeNumber, isNull, isNullOrUndefined, isNumber, isObject, isObjectLike, isOneOf, isPlainObject, isPositiveNumber, isPrimitive, isPromise, isRegExp, isSet, isString, isSymbol, isType, isUndefined, isWeakMap, isWeakSet };\n","import { isArray, isPlainObject } from 'is-what';\n\nfunction assignProp(carry, key, newVal, originalObject, includeNonenumerable) {\n  const propType = {}.propertyIsEnumerable.call(originalObject, key) ? \"enumerable\" : \"nonenumerable\";\n  if (propType === \"enumerable\")\n    carry[key] = newVal;\n  if (includeNonenumerable && propType === \"nonenumerable\") {\n    Object.defineProperty(carry, key, {\n      value: newVal,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    });\n  }\n}\nfunction copy(target, options = {}) {\n  if (isArray(target)) {\n    return target.map((item) => copy(item, options));\n  }\n  if (!isPlainObject(target)) {\n    return target;\n  }\n  const props = Object.getOwnPropertyNames(target);\n  const symbols = Object.getOwnPropertySymbols(target);\n  return [...props, ...symbols].reduce((carry, key) => {\n    if (isArray(options.props) && !options.props.includes(key)) {\n      return carry;\n    }\n    const val = target[key];\n    const newVal = copy(val, options);\n    assignProp(carry, key, newVal, target, options.nonenumerable);\n    return carry;\n  }, {});\n}\n\nexport { copy };\n",null,"import type { EVM } from '@ethereumjs/evm'\nimport { createJsonRpcClient } from './createJsonRpcClient.js'\nimport type { IncomingMessage, ServerResponse } from 'http'\nimport { parse, stringify } from 'superjson'\nimport type { TevmJsonRpcRequest } from './TevmJsonRpcRequest.js'\n\ntype CreatehttpHandlerParameters = {\n\tevm: EVM,\n\tforkUrl?: string\n}\n\n/**\n * Creates an http request handler for tevm requests\n */\nexport function createHttpHandler({ evm, forkUrl }: CreatehttpHandlerParameters) {\n\tconst client = createJsonRpcClient(evm)\n\treturn async (req: IncomingMessage, res: ServerResponse) => {\n\t\tlet body = ''\n\n\t\treq.on('data', (chunk) => {\n\t\t\tbody += chunk.toString()\n\t\t})\n\n\t\treq.on('end', () => {\n\t\t\tlet jsonBody: TevmJsonRpcRequest\n\t\t\ttry {\n\t\t\t\tconst raw = JSON.parse(body)\n\t\t\t\tif (!raw.method.startsWith('tevm_')) {\n\t\t\t\t\tif (!forkUrl) {\n\t\t\t\t\t\tres.writeHead(404, { 'Content-Type': 'application/json' })\n\t\t\t\t\t\tconst error = {\n\t\t\t\t\t\t\tid: raw.id,\n\t\t\t\t\t\t\tmethod: raw.method,\n\t\t\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\t\t\terror: {\n\t\t\t\t\t\t\t\tcode: 404,\n\t\t\t\t\t\t\t\tmessage: 'Invalid jsonrpc request: Fork url not set',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t\tres.end(JSON.stringify(error))\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tfetch(forkUrl, {\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tbody: JSON.stringify(raw),\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t},\n\t\t\t\t\t}).then((response) => {\n\t\t\t\t\t\tres.writeHead(\n\t\t\t\t\t\t\tresponse.status,\n\t\t\t\t\t\t\tObject.fromEntries(response.headers.entries()),\n\t\t\t\t\t\t)\n\t\t\t\t\t\tres.end(response.body)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tjsonBody = { ...raw, params: raw.params && parse(raw.params) }\n\t\t\t} catch (e) {\n\t\t\t\tres.writeHead(500, { 'Content-Type': 'application/json' })\n\t\t\t\tconst error = {\n\t\t\t\t\tid: 'unknown',\n\t\t\t\t\tmethod: 'unknown',\n\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\terror: {\n\t\t\t\t\t\tcode: 500,\n\t\t\t\t\t\tmessage: 'Invalid jsonrpc request: Unable to parse json',\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t\tres.end(JSON.stringify(error))\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Verify if it's a valid JSON RPC 2.0 request\n\t\t\tif (jsonBody.jsonrpc !== '2.0') {\n\t\t\t\tres.writeHead(500, { 'Content-Type': 'application/json' })\n\t\t\t\tconst error = {\n\t\t\t\t\tid: 'unknown',\n\t\t\t\t\tmethod: 'unknown',\n\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\terror: {\n\t\t\t\t\t\tcode: 500,\n\t\t\t\t\t\tmessage: `Invalid jsonrpc request: Invalid schema ${jsonBody.jsonrpc}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t\tres.end(JSON.stringify(error))\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t(jsonBody.method as string) === '' ||\n\t\t\t\ttypeof jsonBody.method !== 'string'\n\t\t\t) {\n\t\t\t\tres.writeHead(500, { 'Content-Type': 'application/json' })\n\t\t\t\tconst error = {\n\t\t\t\t\tid: 'unknown',\n\t\t\t\t\tmethod: 'unknown',\n\t\t\t\t\tjsonrpc: '2.0',\n\t\t\t\t\terror: {\n\t\t\t\t\t\tcode: 500,\n\t\t\t\t\t\tmessage: 'Invalid jsonrpc request',\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t\tres.end(JSON.stringify(error))\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tclient(jsonBody)\n\t\t\t\t.then((result) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tres.writeHead(200, { 'Content-Type': 'application/json' })\n\t\t\t\t\t\tres.end(stringify(result))\n\t\t\t\t\t\treturn\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tres.writeHead(500, { 'Content-Type': 'application/json' })\n\t\t\t\t\t\tconst error = {\n\t\t\t\t\t\t\tid: jsonBody.id,\n\t\t\t\t\t\t\tmethod: jsonBody.method,\n\t\t\t\t\t\t\tjsonrpc: jsonBody.jsonrpc,\n\t\t\t\t\t\t\terror: {\n\t\t\t\t\t\t\t\tcode: 500,\n\t\t\t\t\t\t\t\tmessage: 'Internal server error',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t\tres.end(JSON.stringify(error))\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((e: Error) => {\n\t\t\t\t\tconsole.error(e)\n\t\t\t\t\tres.writeHead(500, { 'Content-Type': 'application/json' })\n\t\t\t\t\tconst error = {\n\t\t\t\t\t\tid: jsonBody.id,\n\t\t\t\t\t\tmethod: jsonBody.method,\n\t\t\t\t\t\tjsonrpc: jsonBody.jsonrpc,\n\t\t\t\t\t\terror: {\n\t\t\t\t\t\t\tcode: 404,\n\t\t\t\t\t\t\tmessage: `Request method ${jsonBody.method} not supported`,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t\tres.end(JSON.stringify(error))\n\t\t\t\t\treturn\n\t\t\t\t})\n\t\t})\n\t}\n}\n"]}